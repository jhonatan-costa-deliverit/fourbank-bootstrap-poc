<div class="container mt-4">
  <button class="btn btn-primary mb-3" (click)="exportToCSV()">
    Exportar (CSV)
  </button>

  <table class="table table-striped table-bordered">
    <thead>
    <tr>
      <th (click)="sortData('data')">
        Data <i [ngClass]="getSortIcon('data')"></i>
      </th>
      <th (click)="sortData('conta')">
        Conta <i [ngClass]="getSortIcon('conta')"></i>
      </th>
      <th (click)="sortData('agencia')">
        Agência <i [ngClass]="getSortIcon('agencia')"></i>
      </th>
      <th (click)="sortData('nome')">
        Nome <i [ngClass]="getSortIcon('nome')"></i>
      </th>
      <th (click)="sortData('valor')">
        Valor <i [ngClass]="getSortIcon('valor')"></i>
      </th>
      <th (click)="sortData('status')">
        Status <i [ngClass]="getSortIcon('status')"></i>
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of pagedData">
      <td>{{ item.data }}</td>
      <td>{{ item.conta }}</td>
      <td>{{ item.agencia }}</td>
      <td>{{ item.nome }}</td>
      <td>{{ item.valor | currency: 'BRL' }}</td>
      <td>{{ item.status }}</td>
    </tr>
    </tbody>
  </table>

  <nav *ngIf="tableData.length > pageSize">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="setPage(currentPage - 1)">Anterior</a>
      </li>
      <li
        class="page-item"
        *ngFor="let page of getPages()"
        [class.active]="page === currentPage"
      >
        <a class="page-link" (click)="setPage(page)">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === getTotalPages()">
        <a class="page-link" (click)="setPage(currentPage + 1)">Próxima</a>
      </li>
    </ul>
  </nav>
</div>
